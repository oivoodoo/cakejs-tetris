var Playtomic={};(function(){function r(a){if(a==null)return"";a=a.toString();a=a.split("%").join("%25");a=a.split(";").join("%3B");a=a.split("?").join("%3F");a=a.split("/").join("%2F");a=a.split(":").join("%3A");a=a.split("#").join("%23");a=a.split("&").join("%26");a=a.split("=").join("%3D");a=a.split("+").join("%2B");a=a.split("$").join("%24");a=a.split(",").join("%2C");a=a.split(" ").join("%20");a=a.split("<").join("%3C");a=a.split(">").join("%3E");a=a.split("~").join("%7E");return a}function s(a,b,d,e,f){var g=n+"v3/api.aspx?"+o+"&r="+Math.random()+"Z";var h=String((new Date).getTime()).substring(0,10);var i=y.MD5((new Date).getTime()*Math.random()+c);var j=["nonce="+i,"timestamp="+h];for(var k in f)j.push(k+"="+r(f[k]));v("section",a,j);v("action",b,j);v("signature",i+h+a+b+g+c,j);var l="data="+r(y.Base64(j.join("&")));var m=window.XDomainRequest?new XDomainRequest:new XMLHttpRequest;m.onerror=function(){d(e,f,{},u(0,1))};m.onload=function(){var a=JSON.parse(m.responseText);d(e,f,a.Data,u(a.Status,a.ErrorCode))};if(window.XDomainRequest){m.open("POST",g)}else{m.open("POST",g,true)}m.send(l)}function u(a,b){return{Success:a==1,ErrorCode:b,ErrorMessage:t[b]}}function v(a,b,c){c.sort();c.push(a+"="+y.MD5(c.join("&")+b))}function w(a,b,c,d){var e;if(window.XDomainRequest){e=new XDomainRequest;e.onerror=function(){c(d)};e.onload=function(){var a;try{a=JSON.parse(e.responseText)}catch(b){c(d);return}c(a)};if(a!=""){e.open("POST",b);e.send(a)}else{e.open("GET",b);e.send()}}else{e=new XMLHttpRequest;e.onerror=function(){c(d)};e.onload=function(){var a;try{a=JSON.parse(e.responseText)}catch(b){c(d);return}c(a)};if(a!=""){e.open("POST",b,true);e.send(a)}else{e.open("GET",b,true);e.send()}}}var a={};var b=0;var c="";var d=true;var e="";var f=false;var g="";var h="";var i="";var j=0;var k=0;var l=null;var m=new Image;var n="";var o="";var p={};var q={};(function(){function w(b,c){if(l){m.push(b);return}if(a==null){a=J()}a.Queue(b);if(a.Ready||c){a.Send();a=new J}}function x(a,b){if(b!=null){F.locationbefore=F.location;F.location=b}F.timebefore=F.time;F.time=j;F.eventnum++;F.params=a==null?{}:a;for(var c in Playtomic.PersistantParams)F.params[c]=Playtomic.PersistantParams[c];var d="data="+r(y.Base64(JSON.stringify(F)));var e=window.XDomainRequest?new XDomainRequest:new XMLHttpRequest;var f=n+"tracker/p.aspx?"+o+"&"+Math.random()+"Z";e.onload=function(){};if(window.XDomainRequest){e.open("POST",f)}else{e.open("POST",f,true)}e.send(d)}function z(a){var b="referrer="+r(a);var c=window.XDomainRequest?new XDomainRequest:new XMLHttpRequest;var d=n+"tracker/r.aspx?"+o+"&"+Math.random()+"Z";c.onload=function(){};if(window.XDomainRequest){c.open("POST",d)}else{c.open("POST",d,true)}c.send(b)}function A(){j++;if(!d)return;if(j==60){i=1;w("t/y/1",true)}else if(j>60&&j%30==0){i++;w("t/n/"+i,true)}}function B(a){if(a==null||a=="")return"";a=a.toString();while(a.indexOf("/")>-1)a=a.replace("/","\\");while(a.indexOf("~")>-1)a=a.replace("~","-");return escape(a)}function C(a){return decodeURI(a).replace(/\+/g," ")}function D(a,b){if(localStorage){localStorage.setItem(a,b);return}if(document){var c=new Date;c.setDate(c.getDate()+30);document.cookie=a+"="+escape(b)+";expires="+c.toUTCString()}}function E(a){if(localStorage){return localStorage[a]||0}if(document.cookie.length==0)return 0;var b=document.cookie.indexOf(a+"=");if(b==-1)return 0;b=b+a.length+1;var c=document.cookie.indexOf(";",b);if(c==-1)c=document.cookie.length;return unescape(document.cookie.substring(b,c))}function G(a,b,c){if(a!=null&&a!=""){D("sessionid",a);F.sessionid=a}if(b!=null&&b!=""){D("referredby",b);F.referredby=b}if(c!=null&&c!=""){D("invitedby",c);F.invitedby=c}}function H(){if(!F.session){var a=E("session");if(a!=""){F.session=a}else{F.session=y.MD5(I()+I());D("session",F.session)}}if(!F.invitedby){var b=E("invitedby");F.invitedby=b==0?"":b}if(!F.referredby){var c=E("referredby");F.referredby=c==0?"":c}}function I(){function g(a,b){a[b>>5]|=128<<24-b%32;a[(b+64>>9<<4)+15]=b;var c=new Array(80);var d=1732584193;var e=-271733879;var f=-1732584194;var g=271733878;var l=-1009589776;for(var m=0;m<a.length;m+=16){var n=d;var o=e;var p=f;var q=g;var r=l;for(var s=0;s<80;s++){if(s<16)c[s]=a[m+s];else c[s]=k(c[s-3]^c[s-8]^c[s-14]^c[s-16],1);var t=j(j(k(d,5),h(s,e,f,g)),j(j(l,c[s]),i(s)));l=g;g=f;f=k(e,30);e=d;d=t}d=j(d,n);e=j(e,o);f=j(f,p);g=j(g,q);l=j(l,r)}return[d,e,f,g,l]}function h(a,b,c,d){if(a<20)return b&c|~b&d;if(a<40)return b^c^d;if(a<60)return b&c|b&d|c&d;return b^c^d}function i(a){return a<20?1518500249:a<40?1859775393:a<60?-1894007588:-899497514}function j(a,b){var c=(a&65535)+(b&65535);var d=(a>>16)+(b>>16)+(c>>16);return d<<16|c&65535}function k(a,b){return a<<b|a>>>32-b}function l(a){var b=new Array;var c=(1<<8)-1;for(var d=0;d<a.length*8;d+=8){b[d>>5]|=(a.charCodeAt(d/8)&c)<<24-d%32}return b}function m(a){var c="";for(var d=0;d<a.length*4;d++){c+=b.charAt(a[d>>2]>>(3-d%4)*8+4&15)+b.charAt(a[d>>2]>>(3-d%4)*8&15)}return c}var a=0;var b="0123456789abcdef";var c=new Date;var d=c.getTime();var e=Math.random()*Number.MAX_VALUE;var f=d+e+a++;return m(g(l(f),f.length*8))}function J(){var a=[];var c=false;this.Queue=function(b){a.push(b);if(a.length>8){c=true}};this.Send=function(){var c=n+"tracker/q.aspx?swfid="+b+"&q="+a.join("~")+"&url="+e+"&"+Math.random()+"z";if(XMLHttpRequest){var d=new XMLHttpRequest;if("withCredentials"in d){d.open("get",c,true);d.send();return}}if(typeof XDomainRequest!="undefined"){var f=new XDomainRequest;f.open("get",c);f.send()}else{}};this.SendPEvent=function(a){};this.MassQueue=function(a){if(a.length==0){Log.Request=this;return}for(var b=a.length-1;b>-1;b--){Queue(a[b]);a.splice(b,1);if(c){w();var d=new J;d.MassQueue(a);return}}}}var a=new J;var h=0;var i=0;var j=0;var k=true;var l=false;var m=[];var s=[];var t=[];var u=[];var v=[];Playtomic.PersistantParams={};Playtomic.PEventsEnabled=false;var F={};F.params={};Playtomic.SetSSL=function(){f=true};Playtomic.Initialize=function(a,h,i,j){if(b>0)return;b=a;c=h;d=true;if(b==0||c==""){d=false;return}e=j?j.toString():document?document.location.toString():null;if(e==null||e==""||e.indexOf("http://")!=0)e="http://localhost/";g=e.split("://")[1];if(g.indexOf("/")>-1)g=g.substring(0,g.indexOf("/"));n=(f?"https://g":"http://g")+c+".api.playtomic.com/";o="swfid="+b+"&js=y";p={gamevars:y.MD5("gamevars-"+i),geoip:y.MD5("geoip-"+i),leaderboards:y.MD5("leaderboards-"+i),playerlevels:y.MD5("playerlevels-"+i),data:y.MD5("data-"+i),parse:y.MD5("parse-"+i)};q={"gamevars-load":y.MD5("gamevars-load-"+i),"gamevars-loadsingle":y.MD5("gamevars-loadsingle-"+i),"geoip-lookup":y.MD5("geoip-lookup-"+i),"leaderboards-list":y.MD5("leaderboards-list-"+i),"leaderboards-listfb":y.MD5("leaderboards-listfb-"+i),"leaderboards-save":y.MD5("leaderboards-save-"+i),"leaderboards-savefb":y.MD5("leaderboards-savefb-"+i),"leaderboards-saveandlist":y.MD5("leaderboards-saveandlist-"+i),"leaderboards-saveandlistfb":y.MD5("leaderboards-saveandlistfb-"+i),"leaderboards-createprivateleaderboard":y.MD5("leaderboards-createprivateleaderboard-"+i),"leaderboards-loadprivateleaderboard":y.MD5("leaderboards-loadprivateleaderboard-"+i),"playerlevels-save":y.MD5("playerlevels-save-"+i),"playerlevels-load":y.MD5("playerlevels-load-"+i),"playerlevels-list":y.MD5("playerlevels-list-"+i),"playerlevels-rate":y.MD5("playerlevels-rate-"+i),"data-views":y.MD5("data-views-"+i),"data-plays":y.MD5("data-plays-"+i),"data-playtime":y.MD5("data-playtime-"+i),"data-custommetric":y.MD5("data-custommetric-"+i),"data-levelcountermetric":y.MD5("data-levelcountermetric-"+i),"data-levelrangedmetric":y.MD5("data-levelrangedmetric-"+i),"data-levelaveragemetric":y.MD5("data-levelaveragemetric-"+i),"parse-save":y.MD5("parse-save-"+i),"parse-delete":y.MD5("parse-delete-"+i),"parse-load":y.MD5("parse-load-"+i),"parse-find":y.MD5("parse-find-"+i)};setInterval(A,1e3);if(!Playtomic.PEventsEnabled)return;F.source=g;F.views=E("views");F.time=0;F.eventnum=0;F.location="initialize";F.api="html5";F.apiversion="2.0";H();x()};Playtomic.Log={View:function(a,b,c,d){Playtomic.Initialize(a,b,c,d);var e=E("views");e++;D("views",e);w("v/"+e,true)},Play:function(){if(!d)return;t=[];u=[];v=[];h++;w("p/"+h)},PEvent:function(a,b){x(a,b)},Referrer:function(a){z(a)},PTransaction:function(a,b,c){var d={};if(a!=null){for(var e in a){d[e]=a[e]}}var f=0;for(var g=0;g<c.length;g++){if(!c[g].hasOwnProperty("item")){return}if(!c[g].hasOwnProperty("quantity")){return}if(!c[g].hasOwnProperty("price")){return}f+=c[g].price}d.transactions=c;d.total=f;F.transaction=true;x(d,b);delete F.transaction},PInvitation:function(a,b,c){var d={};if(a!=null){for(var e in a){d[e]=a[e]}}d.invitations=c;d.total=c.length;F.invitation=true;x(d,b);delete F.invitation},Link:function(a,b,c,e,f,g){if(!d)return;w("l/"+B(a)+"/"+B(b)+"/"+B(c)+"/"+e+"/"+f+"/"+g)},CustomMetric:function(a,b,c){if(!d)return;if(b==null||b==undefined)b="";if(c){if(s.indexOf(a)>-1)return;s.push(a)}w("c/"+B(a)+"/"+B(b))},LevelCounterMetric:function(a,b,c){if(!d)return;if(c){var e=a+"."+b.toString();if(t.indexOf(e)>-1)return;t.push(e)}w("lc/"+B(a)+"/"+B(b))},LevelRangedMetric:function(a,b,c,e){if(!d)return;if(e){var f=a+"."+b.toString();if(v.indexOf(f)>-1)return;v.push(f)}w("lr/"+B(a)+"/"+B(b)+"/"+c)},LevelAverageMetric:function(a,b,c,e){if(!d)return;if(e){var f=a+"."+b.toString();if(Log.LevelAverages.indexOf(f)>-1)return;u.push(f)}w("la/"+B(a)+"/"+B(b)+"/"+c)},Heatmap:function(a,b,c,e){if(!d)return;w("h/"+B(a)+"/"+B(b)+"/"+c+"/"+e)},Funnel:function(a,b,c){if(!d)return;w("f/"+B(a)+"/"+B(b)+"/"+num)},PlayerLevelStart:function(a){if(!d)return;w("pls/"+a)},PlayerLevelWin:function(a){if(!d)return;w("plw/"+a)},PlayerLevelQuit:function(a){if(!d)return;w("plq/"+a)},PlayerLevelRetry:function(a){if(!d)return;w("plr/"+a)},PlayerLevelFlag:function(a){if(!d)return;w("plf/"+a)},ForceSend:function(){if(!d)return;if(a==null)a=new J;a.Send();a=new J},Freeze:function(){l=true},UnFreeze:function(){l=false;if(m.length>0){a.MassQueue()}}}})();(function(){var a=[];Playtomic.Link={Track:function(b,c,d){var e=0;var f=0;var g=0;var h=0;var i=0;var j=0;var k=b+"."+c;var l;var m=b;m=m.replace("http://","");if(m.indexOf("/")>-1)m=m.substring(0,m.indexOf("/"));if(m.indexOf("?")>-1)m=m.substring(0,m.indexOf("?"));m="http://"+m+"/";var n=m;if(n.indexOf("//")>-1)n=n.substring(n.indexOf("//")+2);n=n.replace("www.","");if(n.indexOf("/")>-1){n=n.substring(0,n.indexOf("/"))}if(a.indexOf(k)>-1){g=1}else{g=1;e=1;a.push(k)}if(a.indexOf(n)>-1){h=1}else{h=1;f=1;a.push(n)}Playtomic.Log.Link(m,n.toLowerCase(),"DomainTotals",f,h,j);Playtomic.Log.Link(b,c,d,e,g,i);Playtomic.Log.ForceSend()},Open:function(a,b,c){var d=window.open(a,"_blank");this.Track(a,b,c)}}})();(function(){function a(a,b,c,d){if(a==null)return;a(c.LevelId,d)}function b(a,b,c,d){if(a==null)return;a(c,d)}function c(a,b,c,d){if(a==null)return;a(c.Levels,c.NumLevels,d)}function d(a,b,c,d){if(a==null)return;a(d)}Playtomic.PlayerLevels={POPULAR:"popular",NEWEST:"newest",Save:function(b,c){var d={};d.nothumb=true;d.playerid=b.PlayerId;d.playersource=b.PlayerSource;d.playername=b.PlayerName;d.name=b.Name;var e=0;if(b.CustomData){for(var f in b.CustomData){d["ckey"+e]=f;d["cdata"+e]=b.CustomData[f];e++}}d.customfields=e;d.data=b.Data;s(p["playerlevels"],q["playerlevels-save"],a,c,d)},Load:function(a,c){var d={};d.levelid=a;s(p["playerlevels"],q["playerlevels-load"],b,c,d)},List:function(a,b){if(b==null)b=new Object;var d={};d.mode=b.mode?b.mode:"popular";d.page=b.page?b.page:1;d.perpage=b.perpage?b.perpage:20;d.data=b.data||b.data==false?b.data?"y":"n":"n";d.thumbs="n";d.datemin=b.datemin?b.datemin:"";d.datemax=b.datemax?b.datemax:"";var e=b.hasOwnProperty("customfilters")?b["customfilters"]:{};var f=0;for(var g in e){d["ckey"+f]=g;d["cdata"+f]=level.CustomData[g];f++}d.filters=f;s(p["playerlevels"],q["playerlevels-list"],c,a,d)},Rate:function(a,b,c){var e={};e.levelid=a;e.rating=b;s(p["playerlevels"],q["playerlevels-rate"],d,c,e)},LogStart:function(a){Playtomic.Log.PlayerLevelStart(a)},LogQuit:function(a){Playtomic.Log.PlayerLevelQuit(a)},LogWin:function(a){Playtomic.Log.PlayerLevelWin(a)},LogRetry:function(a){Playtomic.Log.PlayerLevelRetry(a)},Flag:function(a){Playtomic.Log.PlayerLevelFlag(a)}};})();(function(){function a(a,b,c,d){if(a==null)return;if(d.Success==false){a([],0,d)}var e=[];var f=c.Scores;for(var g=0;g<f.length;g++){var h={};h.Name=unescape(f[g].Name);h.FBUserId=f[g].FBUserId;h.Points=f[g].Points;h.Website=f[g].Website;h.SDate=f[g].SDate;h.RDate=f[g].RDate;h.Rank=f[g].Rank;if(f[g]["SubmittedOrBest"]!=null){h.SubmittedOrBest=f[g].SubmittedOrBest=="true"}else{h.SubmittedOrBest=false}h.CustomData={};for(x in f[g].CustomData)h.CustomData[x]=unescape(f[g].CustomData[x]);e[g]=h}a(e,c.NumScores,d)}function b(a,b,c,d){if(a==null)return;a(d)}function c(a,b,c,d){if(d.Success==false){a({},d)}var e={TableId:c.TableId,Name:c.Name,Permalink:c.Permalink,Bitly:c.Bitly,RealName:c.RealName};a(e,d)}Playtomic.Leaderboards={TODAY:"today",LAST7DAYS:"last7days",LAST30DAYS:"last30days",ALLTIME:"alltime",NEWEST:"newest",List:function(b,c,d){if(d==null)d=new Object;var f=d.highest||d.highest==false?d.highest:true;var g=d.facebook||d.facebook==false?d.facebook:false;var h={};h.highest=f?"y":"n";h.facebook=g?"y":"n";h.mode=d.mode?d.mode:"alltime";h.page=d.page?d.page:1;h.perpage=d.perpage?d.perpage:20;var i=d.customfilters?d.customfilters:{};var j=0;for(var k in i){h["ckey"+j]=k;h["cdata"+j]=i[k];j++}var l=d.global||d.global==false?d.global:true;h.url=l?"global":e;h.table=b;h.filters=j;var m="leaderboards-list";if(g){var n=d.friendslist?d.friendslist:[];if(n.length>0){h.friendslist=n.join(",")}m+="fb"}s(p["leaderboards"],q[m],a,c,h)},Save:function(a,c,d,f){if(f==null)f=new Object;var g=f.allowduplicates||f.allowduplicates==false?f.allowduplicates:false;var h=h=f.highest||f.highest==false?f.highest:true;var i={};i.allowduplicates=g?"y":"n";i.highest=h?"y":"n";i.table=c;i.name=a.Name;i.points=a.Points.toString();i.auth=y.MD5(e+a.Points.toString());i.url=e;if(a.FBUserId!=null&&a.FBUserId!=""){i.fbuserid=a.FBUserId;i.fb="y"}else{i.fbuserid="";i.fb="n"}var j=0;if(a.CustomData){for(var k in a.CustomData){i["ckey"+j]=k;i["cdata"+j]=a.CustomData[k];j++}}i.customfields=j;s(p["leaderboards"],q["leaderboards-save"],b,d,i)},SaveAndList:function(b,c,d,f,g){var h={};h.table=c;var i=f.allowduplicates||f.allowduplicates==false?f.allowduplicates:false;var j=f.highest||f.highest==false?f.highest:true;var k=f.facebook||f.facebook==false?f.facebook:false;if(f==null)f=new Object;h.allowduplicates=i?"y":"n";h.highest=j?"y":"n";h.facebook=k?"y":"n";h.name=b.Name;h.points=b.Points.toString();h.auth=y.MD5(e+b.Points.toString());h.url=e;if(b.FBUserId!=null&&b.FBUserId!=""){h.fbuserid=b.FBUserId;h.fb="y"}else{h.fbuserid="";h.fb="n"}var l=0;if(b.CustomData){for(var m in b.CustomData){h["ckey"+l]=m;h["cdata"+l]=b.CustomData[m];l++}}h.numfields=l;if(g==null)g=new Object;var n=g.global||g.global==false?g.global:true;h.global=n?"y":"n";h.mode=g.mode?g.mode:"alltime";h.perpage=g.perpage?g.perpage:20;var o=g.customfilters?g.customfilters:{};var r=0;if(o!=null){for(var m in o){h["lkey"+r]=m;h["ldata"+r]=o[m];r++}}h.numfilters=r;var t="leaderboards-saveandlist";if(k){var u=g.friendslist?g.friendslist:[];if(u.length>0){h.friendslist=u.join(",")}t+="fb"}s(p["leaderboards"],q[t],a,d,h)},CreatePrivateLeaderboard:function(a,b,d,e){var f={};f.table=a;f.highest=e?"y":"n";f.permalink=b;s(p["leaderboards"],q["leaderboards-createprivateleaderboard"],c,d,f)},LoadPrivateLeaderboard:function(a,b){var d={};d.tableid=a;s(p["leaderboards"],q["leaderboards-loadprivateleaderboard"],c,b,d)}}})();new function(){function a(a,c,d,e){if(e==null)e={};var f={};f.type=c;f.day=e.day?e.day:0;f.month=e.month?e.month:0;f.year=e.year?e.year:0;s(p["data"],a,b,d,f)}function b(a,b,c,d){if(a==null)return;if(d.Success==false){a(null,d);return}var e={Name:b.type,Day:b.day,Month:b.month,Year:b.year,Value:c.Value};a(e,d)}function c(a,b,c,d){if(a==null)return;if(d.Success==false){a(null,d);return}var e={Name:"custommetric",Day:b.day,Month:b.month,Year:b.year,Value:c.Value};a(e,d)}function d(a,b,c,d,e,f){if(f==null)f={};var g={};g.metric=b;g.level=c;g.day=f.day?f.day:0;g.month=f.month?f.month:0;g.year=f.year?f.year:0;s(p["data"],a,d,e,g)}function e(a,b,c,d){if(a==null)return;if(d.Success==false){a(null,d);return}var e={Name:"levelcountermetric",Metric:metric,Level:level,Day:day,Month:month,Year:year,Value:c.Value};a(e,d)}function f(a,b,c,d){if(a==null)return;if(d.Success==false){a(null,d);return}var e={Name:"levelrangedmetric",Metric:metric,Level:level,Day:day,Month:month,Year:year,Data:c.Values};a(e,d)}function g(a,b,c,d){if(a==null)return;if(d.Success==false){a(null,d);return}var e={Name:"levelaveragemetric",Metric:metric,Level:level,Day:day,Month:month,Year:year,Min:c.Min,Max:c.Max,Average:c.Average,Total:c.Total};a(c,d)}Playtomic.Data={Views:function(b,c){a(q["data-views"],"views",b,c)},Plays:function(b,c){a(q["data-plays"],"plays",b,c)},PlayTime:function(b,c){a(q["data-playtime"],"playtime",b,c)},CustomMetric:function(a,b,d){if(d==null)d={};var e={};e.day=d.day?d.day:0;e.month=d.month?d.month:0;e.year=d.year?d.year:0;s(p["data"],q["data-custommetric"],c,b,e)},LevelCounterMetric:function(a,b,c,f){d(q["data-levelcountermetric"],a,b,e,c,f)},LevelRangedMetric:function(a,b,c,e){d(q["data-levelrangedmetric"],a,b,f,c,e)},LevelAverageMetric:function(a,b,c,e){d(q["data-levelaveragemetric"],a,b,g,c,e)}};};new function(){function a(a,b,c,d){if(a==null)return;if(d.Success==false){a(null,d);return}a(c,d)}Playtomic.GeoIP={Lookup:function(b){s(p["geoip"],q["geoip-lookup"],a,b,null)}}};new function(){function a(a,b,c,d){if(a==null)return;if(d.Success==false){a(null,d);return}a(c,d)}Playtomic.GameVars={Load:function(b){s(p["gamevars"],q["gamevars-load"],a,b,null)},LoadSingle:function(b,c){var d={};d.name=b;s(p["gamevars"],q["gamevars-loadsingle"],a,c,d)}}};Playtomic.PFObject=function(){this.ObjectId="";this.ClassName="";this.Data={};this.UpdatedAt=null;this.CreatedAt=null;this.Password=""};Playtomic.PFQuery=function(){this.ClassName="";this.WhereData={};this.Order="";this.Limit=10};(function(){function a(a){var b={};b.classname=a.ClassName;b.id=a.ObjectId==null?"":a.ObjectId;b.password=a.Password==null?"":a.Password;for(var c in a.Data)b["data"+c]=a.Data[c];return b}function b(a,b,c,d){if(a==null)return;var e=new Playtomic.PFObject;e.ClassName=b.classname;e.Password=b.password;for(var f in b){if(f.indexOf("data")==0){e.Data[f.substring(4)]=b[f]}}if(d.Success)e.ObjectId=c.id;a(e,d)}function c(a,b,c,d){if(a==null)return;if(d.Success==false){a(null,d);return}var e=new Playtomic.PFObject;e.ClassName=c.classname;e.ObjectId=c.id;e.Password=c.password;e.CreatedAt=f(c.created);e.UpdatedAt=f(c.updated);for(var g in c.fields){e.Data[g]=c.fields[g]}a(e,d)}function d(a,b,c,d){if(a==null)return;if(d.Success==false){a(null,d);return}a(c,d)}function e(a,b,c,d){if(a==null)return;if(d.Success==false){a([],d);return}var e=[];for(var g=0;g<c.length;g++){var h=c[g];var i=new Playtomic.PFObject;i.ClassName=h.classname;i.ObjectId=h.id;i.Password=h.password;i.CreatedAt=f(h.created);i.UpdatedAt=f(h.updated);for(var j in h.fields){i.Data[j]=h.fields[j]}e.push(i)}a(e,d)}function f(a){var b=a.split(" ");var c=b[0].toString().split("/");var d=b[1].toString().split(":");var e=parseInt(c[1]);var f=parseInt(c[0]);var g=parseInt(c[2]);var h=parseInt(d[0]);var i=parseInt(d[1]);var j=parseInt(d[2]);return new Date(Date.UTC(g,f,e,h,i,j))}Playtomic.Parse={Save:function(c,d){s(p["parse"],q["parse-save"],b,d,a(c))},Delete:function(b,c){s(p["parse"],q["parse-delete"],d,c,a(b))},Load:function(a,b,d){var e={};e.id=a;e.classname=b;s(p["parse"],q["parse-load"],c,d,e)},Find:function(a,b){var c={};c.classname=a.ClassName;c.limit=a.Limit;c.order=a.Order!=null&&a.Order!=""?a.Order:"created_at";for(var d in a.WhereData)c["data"+d]=a.WhereData[d];s(p["parse"],q["parse-find"],e,b,c)}}})();var t={0:"No error",1:"General error, this typically means the player is unable to connect to the Playtomic servers",2:"Invalid game credentials. Make sure you use your SWFID and GUID from the `API` section in the dashboard.",3:"Request timed out.",4:"Invalid request.",100:"GeoIP API has been disabled. This may occur if your game is faulty or overwhelming the Playtomic servers.",200:"Leaderboard API has been disabled. This may occur if your game is faulty or overwhelming the Playtomic servers.",201:"The source URL or name weren't provided when saving a score. Make sure the player specifies a name and the game is initialized before anything else using the code in the `Set your game up` section.",202:"Invalid auth key. You should not see this normally, players might if they tamper with your game.",203:"No Facebook user id on a score specified as a Facebook submission.",204:"Table name wasn't specified for creating a private leaderboard.",205:"Permalink structure wasn't specified: http://website.com/game/whatever?leaderboard=",206:"Leaderboard id wasn't provided loading a private leaderboard.",207:"Invalid leaderboard id was provided for a private leaderboard.",208:"Player is banned from submitting scores in your game.",209:"Score was not the player's best score.  You can notify the player, highlight their best score via score.SubmittedOrBest, or circumvent this by specifying 'allowduplicates' to be true in your save options.",300:"GameVars API has been disabled. This may occur if your game is faulty or overwhelming the Playtomic servers.",400:"Level sharing API has been disabled. This may occur if your game is faulty or overwhelming the Playtomic servers.",401:"Invalid rating value (must be 1 - 10).",402:"Player has already rated that level.",403:"The level name wasn't provided when saving a level.",404:"Invalid image auth. You should not see this normally, players might if they tamper with your game.",405:"Invalid image auth (again). You should not see this normally, players might if they tamper with your game.",500:"Data API has been disabled. This may occur if the Data API is not enabled for your game, or your game is faulty or overwhelming the Playtomic servers.",600:"You have not configured your Parse.com database.  Sign up at Parse and then enter your API credentials in your Playtomic dashboard.",601:"No response was returned from Parse.  If you experience this a lot let us know exactly what you're doing so we can sort out a fix for it.",6021:"Parse's servers had an error.",602101:"Object not found.  Make sure you include the classname and objectid and that they are correct.",602102:"Invalid query.  If you think you're doing it right let us know what you're doing and we'll look into it.",602103:"Invalid classname.",602104:"Missing objectid.",602105:"Invalid key name.",602106:"Invalid pointer (not used anymore).",602107:"Invalid JSON.",602108:"Command unavailable."};var y=new function(){function c(a){a=a.replace(/\r\n/g,"\n");var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);if(d<128){b+=String.fromCharCode(d)}else if(d>127&&d<2048){b+=String.fromCharCode(d>>6|192);b+=String.fromCharCode(d&63|128)}else{b+=String.fromCharCode(d>>12|224);b+=String.fromCharCode(d>>6&63|128);b+=String.fromCharCode(d&63|128)}}return b}function d(a,b){var c=a&1|b&1;var d=a>>>1|b>>>1;return d<<1|c}function e(a,b){var c=a&1^b&1;var d=a>>>1^b>>>1;return d<<1|c}function f(a,b){var c=a&1&(b&1);var d=a>>>1&b>>>1;return d<<1|c}function g(a,b){var c=(a&65535)+(b&65535);var d=(a>>16)+(b>>16)+(c>>16);return d<<16|c&65535}function h(a){var c="";var d;for(d=0;d<=3;d++)c+=b.charAt(a>>d*8+4&15)+b.charAt(a>>d*8&15);return c}function i(a){var b=(a.length+8>>6)+1;var c=new Array(b*16);var d;for(d=0;d<b*16;d++)c[d]=0;for(d=0;d<a.length;d++)c[d>>2]|=a.charCodeAt(d)<<(a.length*8+d)%4*8;c[d>>2]|=128<<(a.length*8+d)%4*8;var e=a.length*8;c[b*16-2]=e&255;c[b*16-2]|=(e>>>8&255)<<8;c[b*16-2]|=(e>>>16&255)<<16;c[b*16-2]|=(e>>>24&255)<<24;return c}function j(a,b){return a<<b|a>>>32-b}function k(a,b,c,d,e,f){return g(j(g(g(b,a),g(d,f)),e),c)}function l(a,b,c,e,g,h,i){return k(d(f(b,c),f(~b,e)),a,b,g,h,i)}function m(a,b,c,e,g,h,i){return k(d(f(b,e),f(c,~e)),a,b,g,h,i)}function n(a,b,c,d,f,g,h){return k(e(e(b,c),d),a,b,f,g,h)}function o(a,b,c,f,g,h,i){return k(e(c,d(b,~f)),a,b,g,h,i)}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var b="0123456789abcdef";return{Base64:function(b){var d="";var e,f,g,h,i,j,k;var l=0;b=c(b);while(l<b.length){e=b.charCodeAt(l++);f=b.charCodeAt(l++);g=b.charCodeAt(l++);h=e>>2;i=(e&3)<<4|f>>4;j=(f&15)<<2|g>>6;k=g&63;if(isNaN(f))j=k=64;else if(isNaN(g))k=64;d=d+a.charAt(h)+a.charAt(i)+a.charAt(j)+a.charAt(k)}return d},MD5:function(a){var b=i(a);var c=1732584193;var d=-271733879;var e=-1732584194;var f=271733878;for(var j=0;j<b.length;j+=16){var k=c;var p=d;var q=e;var r=f;c=l(c,d,e,f,b[j+0],7,-680876936);f=l(f,c,d,e,b[j+1],12,-389564586);e=l(e,f,c,d,b[j+2],17,606105819);d=l(d,e,f,c,b[j+3],22,-1044525330);c=l(c,d,e,f,b[j+4],7,-176418897);f=l(f,c,d,e,b[j+5],12,1200080426);e=l(e,f,c,d,b[j+6],17,-1473231341);d=l(d,e,f,c,b[j+7],22,-45705983);c=l(c,d,e,f,b[j+8],7,1770035416);f=l(f,c,d,e,b[j+9],12,-1958414417);e=l(e,f,c,d,b[j+10],17,-42063);d=l(d,e,f,c,b[j+11],22,-1990404162);c=l(c,d,e,f,b[j+12],7,1804603682);f=l(f,c,d,e,b[j+13],12,-40341101);e=l(e,f,c,d,b[j+14],17,-1502002290);d=l(d,e,f,c,b[j+15],22,1236535329);c=m(c,d,e,f,b[j+1],5,-165796510);f=m(f,c,d,e,b[j+6],9,-1069501632);e=m(e,f,c,d,b[j+11],14,643717713);d=m(d,e,f,c,b[j+0],20,-373897302);c=m(c,d,e,f,b[j+5],5,-701558691);f=m(f,c,d,e,b[j+10],9,38016083);e=m(e,f,c,d,b[j+15],14,-660478335);d=m(d,e,f,c,b[j+4],20,-405537848);c=m(c,d,e,f,b[j+9],5,568446438);f=m(f,c,d,e,b[j+14],9,-1019803690);e=m(e,f,c,d,b[j+3],14,-187363961);d=m(d,e,f,c,b[j+8],20,1163531501);c=m(c,d,e,f,b[j+13],5,-1444681467);f=m(f,c,d,e,b[j+2],9,-51403784);e=m(e,f,c,d,b[j+7],14,1735328473);d=m(d,e,f,c,b[j+12],20,-1926607734);c=n(c,d,e,f,b[j+5],4,-378558);f=n(f,c,d,e,b[j+8],11,-2022574463);e=n(e,f,c,d,b[j+11],16,1839030562);d=n(d,e,f,c,b[j+14],23,-35309556);c=n(c,d,e,f,b[j+1],4,-1530992060);f=n(f,c,d,e,b[j+4],11,1272893353);e=n(e,f,c,d,b[j+7],16,-155497632);d=n(d,e,f,c,b[j+10],23,-1094730640);c=n(c,d,e,f,b[j+13],4,681279174);f=n(f,c,d,e,b[j+0],11,-358537222);e=n(e,f,c,d,b[j+3],16,-722521979);d=n(d,e,f,c,b[j+6],23,76029189);c=n(c,d,e,f,b[j+9],4,-640364487);f=n(f,c,d,e,b[j+12],11,-421815835);e=n(e,f,c,d,b[j+15],16,530742520);d=n(d,e,f,c,b[j+2],23,-995338651);c=o(c,d,e,f,b[j+0],6,-198630844);f=o(f,c,d,e,b[j+7],10,1126891415);e=o(e,f,c,d,b[j+14],15,-1416354905);d=o(d,e,f,c,b[j+5],21,-57434055);c=o(c,d,e,f,b[j+12],6,1700485571);f=o(f,c,d,e,b[j+3],10,-1894986606);e=o(e,f,c,d,b[j+10],15,-1051523);d=o(d,e,f,c,b[j+1],21,-2054922799);c=o(c,d,e,f,b[j+8],6,1873313359);f=o(f,c,d,e,b[j+15],10,-30611744);e=o(e,f,c,d,b[j+6],15,-1560198380);d=o(d,e,f,c,b[j+13],21,1309151649);c=o(c,d,e,f,b[j+4],6,-145523070);f=o(f,c,d,e,b[j+11],10,-1120210379);e=o(e,f,c,d,b[j+2],15,718787259);d=o(d,e,f,c,b[j+9],21,-343485551);c=g(c,k);d=g(d,p);e=g(e,q);f=g(f,r)}return h(c)+h(d)+h(e)+h(f)}}}})();if(!this.JSON){this.JSON={}}(function(){function f(a){return a<10?"0"+a:a}function quote(a){escapable.lastIndex=0;return escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];if(i&&typeof i==="object"&&typeof i.toJSON==="function"){i=i.toJSON(a)}if(typeof rep==="function"){i=rep.call(b,a,i)}switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i){return"null"}gap+=indent;h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1){h[c]=str(c,i)||"null"}e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]";gap=g;return e}if(rep&&typeof rep==="object"){f=rep.length;for(c=0;c<f;c+=1){d=rep[c];if(typeof d==="string"){e=str(d,i);if(e){h.push(quote(d)+(gap?": ":":")+e)}}}}else{for(d in i){if(Object.hasOwnProperty.call(i,d)){e=str(d,i);if(e){h.push(quote(d)+(gap?": ":":")+e)}}}}e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}";gap=g;return e}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;if(typeof JSON.stringify!=="function"){JSON.stringify=function(a,b,c){var d;gap="";indent="";if(typeof c==="number"){for(d=0;d<c;d+=1){indent+=" "}}else if(typeof c==="string"){indent=c}rep=b;if(b&&typeof b!=="function"&&(typeof b!=="object"||typeof b.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":a})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e==="object"){for(c in e){if(Object.hasOwnProperty.call(e,c)){d=walk(e,c);if(d!==undefined){e[c]=d}else{delete e[c]}}}}return reviver.call(a,b,e)}var j;text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})()